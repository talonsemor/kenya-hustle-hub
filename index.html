<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Kenya Hustle Hub â€” Home</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/discovery.css">
  <script>
    (function(i,m,p,a,c,t){
      c.ire_o=p;
      c[p]=c[p]||function(){(c[p].a=c[p].a||[]).push(arguments)};
      t=a.createElement(m);
      var z=a.getElementsByTagName(m)[0];
      t.async=1;
      t.src=i;
      z.parentNode.insertBefore(t,z)
    })('https://utt.impactcdn.com/P-A6730658-6e3d-44de-aa72-b8401efcd68e1.js','script','impactStat',document,window);
    impactStat('transformLinks');
    impactStat('trackImpression');
  </script>
</head>
<body class="dark">
  <div id="app">
    <header class="site-header">
      <div class="brand">
        <button id="menuBtn" class="menu-btn" aria-label="Open menu">
          <span></span><span></span><span></span>
        </button>
        <a class="logo" href="#">Kenya Hustle Hub</a>
      </div>
      <div class="header-actions">
        <input id="search" type="search" placeholder="Search hustles, scholarships, online jobs..." aria-label="Search">
        <button id="searchBtn" class="btn">Search</button>
        <button id="refreshBtn" class="btn">Refresh</button>
      </div>
    </header>

    <aside id="sideNav" class="side-nav" aria-hidden="true">
      <div class="side-inner">
        <h2>Menu</h2>
        <nav class="nav-list">
          <a href="#" data-cat="all" class="nav-item active">All</a>
          <a href="about.html" class="nav-item">About</a>
          <a href="submit.html" class="nav-item">Submit Hustle</a>
        </nav>

        <div class="side-footer">
          <div class="theme-row">
            <label for="themeToggle">Theme</label>
            <button id="themeToggle" class="theme-toggle" role="switch" aria-checked="false" aria-label="Toggle color theme" title="Toggle light/dark theme">
              <span class="toggle-knob" aria-hidden="true"></span>
            </button>
          </div>
        </div>
      </div>
    </aside>

    <main class="main">
      <section class="hero">
        <div class="hero-bg" aria-hidden="true"></div>
        <div class="hero-overlay">
          <div class="hero-inner">
            <h1>Find real hustles & income opportunities  updated daily</h1>
            <p class="lead">Verified listings, grants, tenders and online jobs for Kenyans. Fast, mobile-first and free.</p>
            <div class="hero-cta">
              <button id="exploreBtn" class="btn primary">Explore Hustles</button>
              <a id="learnMore" class="btn ghost" href="#listings">How it works</a>
            </div>
          </div>
        </div>
      </section>


      <!-- Discovery Widget removed here to avoid duplication (kept inside listings feed-column) -->
      <!-- Affiliate Modern Box (top position) -->
      <section class="affiliate-wrapper wrap" aria-label="Sponsored offer">
        <div id="affiliate-modern-box" style="margin:0">
          <style>
            #affiliate-modern-box{--bg1:#fff;--bg2:#f6f9ff;display:block;border-radius:12px;padding:14px;background:linear-gradient(180deg,var(--bg1),var(--bg2));box-shadow:0 6px 18px rgba(14,30,80,0.06);color:#0b1220;font-family:inherit}
            #affiliate-modern-box .aff-header{display:flex;gap:12px;align-items:center}
            #affiliate-modern-box .aff-logo{width:52px;height:52px;border-radius:10px;object-fit:cover;flex:0 0 52px}
            #affiliate-modern-box .aff-title{font-weight:600;margin:0 0 4px 0}
            #affiliate-modern-box .aff-sub{font-size:13px;color:#475569;margin:0}
            #affiliate-modern-box .aff-cta{display:flex;gap:8px;margin-top:12px}
            #affiliate-modern-box .aff-cta a{flex:1;text-decoration:none;padding:10px 12px;border-radius:8px;text-align:center;display:inline-block;font-weight:600}
            #affiliate-modern-box .aff-cta .primary{background:#0b5fff;color:#fff}
            #affiliate-modern-box .aff-cta .ghost{background:transparent;border:1px solid rgba(11,95,255,0.12);color:#0b5fff}
            #affiliate-modern-box .aff-note{font-size:12px;color:#64748b;margin-top:10px;text-align:center}
            @media (max-width:560px){#affiliate-modern-box{padding:12px}.aff-cta a{padding:10px}}
          </style>

          <div class="aff-header">
            <img src="assets/affiliate-placeholder.png" alt="Partner logo" class="aff-logo" onerror="this.style.display='none'">
            <div>
              <p class="aff-title">Partner Offer â€” Earn More</p>
              <p class="aff-sub">Curated for Kenya Hustle Hub users</p>
            </div>
          </div>

          <p class="small" style="margin:12px 0 0 0">Explore this trusted partner to discover cashback, sign-up bonuses, and tools that help grow your side income.</p>

          <div class="aff-cta">
            <a class="primary" href="https://example.com/?ref=kenyahustlehub" target="_blank" rel="noopener noreferrer">See Offer</a>
            <a class="ghost" href="https://example.com/learn-more" target="_blank" rel="noopener noreferrer">Learn more</a>
          </div>

          <div class="aff-note">We may receive commission for referrals. <a href="/about.html" style="color:inherit;text-decoration:underline">Learn more</a></div>
        </div>
      </section>

      <section id="listings" class="content wrap">
        <div class="controls card">
          <div class="filters">
            <div class="tabs" id="categoryTabs"></div>
            <select id="sourceFilter"><option value="all">All sources</option></select>
          </div>
          <div class="info small">Auto-updates from public feeds.</div>
        </div>

        <div class="layout">
          <div class="feed-column">
            <div id="items" class="items grid-small"></div>
            <!-- Discovery Widget - BBC News, Sports, Crypto Feeds (moved between feed 2 and 3) -->
            <section class="discovery-wrapper wrap" aria-label="Discovery feeds">
              <div class="discovery-box card">
                <h2 class="discovery-title">ðŸŽ¯ Discovery</h2>
                <div class="discovery-grid" id="discoveryGrid">
                  <!-- News Feed Card -->
                  <div class="discovery-card news-card" data-feed="news">
                    <div class="discovery-header">
                      <span class="feed-icon">ðŸ“°</span>
                      <h3>BBC News</h3>
                    </div>
                    <div class="discovery-content" id="newsContent">
                      <div class="skeleton"></div>
                      <div class="skeleton"></div>
                    </div>
                  </div>

                  <!-- Sports Feed Card -->
                  <div class="discovery-card sports-card" data-feed="sports">
                    <div class="discovery-header">
                      <span class="feed-icon">âš½</span>
                      <h3>BBC Sport</h3>
                    </div>
                    <div class="discovery-content" id="sportsContent">
                      <div class="skeleton"></div>
                      <div class="skeleton"></div>
                    </div>
                  </div>

                  <!-- Crypto Feed Card replaced with rotating highlights -->
                  <div class="discovery-card highlight-card" id="highlightCard">
                    <div class="discovery-header">
                      <span class="feed-icon" id="highlightIcon">âš½</span>
                      <h3 id="highlightTitle">Premier League Highlights</h3>
                    </div>
                    <div class="discovery-content" id="highlightContent">
                      <img id="highlightImg" src="assets/images/discovery-premier-league.svg" alt="Premier League Highlights" style="width:100%;max-width:120px;border-radius:10px;box-shadow:0 2px 8px #0002;display:block;margin:0 auto 10px;">
                      <div id="highlightDesc" class="highlight-desc">Catch up on the latest football action from the English Premier League.</div>
                    </div>
                  </div>
                </div>
              </div>
            </section>
            <div class="pager"><button id="loadMore" class="btn">Load more</button></div>
          </div>

          <aside class="sidebar card">
            <h3>Sources</h3>
            <div id="sources" class="sources"></div>

            <h3 style="margin-top:16px">Quick Tags</h3>
            <div id="quickTags" class="tags"></div>
          </aside>
        </div>
      </section>

      <footer class="site-footer">
        <div class="wrap">
          <p> 2025 Kenya Hustle Hub  All Rights Reserved</p>
        </div>
      </footer>
    </main>

    <div id="loader" class="loader"><div class="spinner"></div></div>
  </div>

  <script type="module" src="js/app.js"></script>
  <script src="js/discovery.js"></script>
  <script>
  !function(d,s,id){
    var js,fjs=d.getElementsByTagName(s)[0];
    if(!d.getElementById(id)){
      js=d.createElement(s);
      js.id=id;
      js.src='https://weatherwidget.io/js/widget.min.js';
      fjs.parentNode.insertBefore(js,fjs);
    }
  }(document,'script','weatherwidget-io-js');
  </script>
</body>
</html>

